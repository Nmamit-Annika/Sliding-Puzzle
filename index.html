<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sliding Puzzle</title>
  <style>
    body {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      background: #f0f0f0;
      font-family: Arial, sans-serif;
    }

    #puzzle {
      display: grid;
      grid-template-columns: repeat(3, 100px);
      grid-template-rows: repeat(3, 100px);
      gap: 5px;
      background: #333;
      padding: 5px;
      border-radius: 10px;
      margin-bottom: 20px;
    }

    .tile {
      width: 100px;
      height: 100px;
      background-image: url("puzzle.jpg"); 
      background-size: 300px 300px;
      border-radius: 8px;
      cursor: pointer;
    }

    .empty {
      background: #ddd;
      background-image: none;
      cursor: default;
    }
     button {
      margin-top: 2-px;
      padding: 10px 15px; 
      font-size: 1rem; 
      border: none;
      border-radius: 5px; 
      background: #6c63ff; 
      color: white; 
      cursor: pointer; 
    }

    button:hover {
      background: #5548c8; 
    }
  </style>
</head>
<body>
  <div id="puzzle">
  </div>
  <button onclick="shuffle()">Shuffle</button>
  <script>
    const puzzle = document.getElementById("puzzle"); 
    let tiles = [];
    function initPuzzle(){
        puzzle.innerHTML = '';
        let positions = [
        "0px 0px", "-100px 0px", "-200px 0px",
        "0px -100px", "-100px -100px", "-200px -100px",
        "0px -200px", "-100px -200px"
      ];
    for (let i = 0; i < 8; i++) {
        const tile = document.createElement("div");
        tile.className = "tile";
        tile.style.backgroundPosition = positions[i];
        puzzle.appendChild(tile);
    }
    const emptyTile = document.createElement("div");
    emptyTile.className = "tile empty";
    puzzel.appendChild(emptyTile);
    tiles = Array.from(puzzle.children); 
    }
    function shuffle(){
        for(let i = puzzle.children.length; i >=0; i--){
            puzzle.appendChild(puzzle.children[Math.random() * i | 0]);
        }
        tiles = Array.from(puzzle.children);
    }
    function isSolved(){
        const positions = [
        "0px 0px", "-100px 0px", "-200px 0px",
        "0px -100px", "-100px -100px", "-200px -100px",
        "0px -200px", "-100px -200px"
      ];
      for (let i = 0; i < 8; i++) {
        if (tiles[i].style.backgroundPosition !== positions[i]) {
          return false;
        }
      }
      return true;
    }
    puzzle.addEventListener("click", (e) => {
      const clickedTile = e.target; 

      if (!clickedTile.classList.contains("tile") || clickedTile.classList.contains("empty")) {
        return; 
      }

      const emptyTile = document.querySelector(".empty"); 

      const clickedIndex = tiles.indexOf(clickedTile); 
      const emptyIndex = tiles.indexOf(emptyTile); 

      const validMoves = [emptyIndex - 1, emptyIndex + 1, emptyIndex - 3, emptyIndex + 3]; 

      if (validMoves.includes(clickedIndex)) {
        puzzle.insertBefore(clickedTile, emptyTile); 

        tiles.splice(emptyIndex, 0, tiles.splice(clickedIndex, 1)[0]); 
        if (isSolved()){
            setTimeout(() => alert("ðŸŽ‰ You solved the puzzle!"), 200);
        }
      }
    });
    initPuzzle();
  </script>
</body>
</html>
